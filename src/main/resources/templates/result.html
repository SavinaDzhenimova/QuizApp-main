<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec='http://www.thymeleaf.org/extras/spring-security'>

<head>
    <th:block th:replace="~{fragments/commons::head}"></th:block>
    <link rel="stylesheet" href="/css/result-styles.css">
    <title>Вашият резултат</title>
</head>

<body>

    <header th:replace="~{fragments/commons::header}"></header>

    <main>
        <div class="quiz-result">
            <h2>Резултат от куиза</h2>

            <div>
                <p>Верни отговори:
                    <span th:text="${result.correctAnswers}"></span> / <span th:text="${result.totalQuestions}"></span>
                </p>
            </div>
            <p>Резултат: <span th:text="${#numbers.formatDecimal(result.scorePercent, 0, 2)}"></span>%</p>

            <div class="buttons">
                <a class="btn-start" sec:authorize="isAnonymous()"
                   th:href="@{/guest/quizzes/{viewToken}/review(viewToken=${result.viewToken})}">Прегледай решението</a>

                <a class="btn-start" sec:authorize="isAuthenticated()"
                   th:href="@{/users/quizzes/{id}/review(id=${result.id})}">Прегледай решението</a>

                <a th:href="@{/start-quiz}" class="btn-start">Започни нов куиз</a>
            </div>
        </div>
    </main>

    <footer th:replace="~{fragments/commons::footer}"></footer>

</body>
</html>